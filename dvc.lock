schema: '2.0'
stages:
  data_loader:
    cmd: python src/data/data_loader.py
    outs:
    - path: data/raw/data.csv
      hash: md5
      md5: 5d295417e543b29d40366cd75fb4c75a
      size: 45580638
  data_preprocess:
    cmd: python src/data/preprocess.py
    deps:
    - path: data/raw/data.csv
      hash: md5
      md5: 5d295417e543b29d40366cd75fb4c75a
      size: 45580638
    outs:
    - path: data/preprocessed/processed_data.csv
      hash: md5
      md5: efd52dd172976f14e856efb5a448bb6e
      size: 35060292
  feature_engineering:
    cmd: python src/data/feature_engineering.py
    deps:
    - path: data/preprocessed/processed_data.csv
      hash: md5
      md5: efd52dd172976f14e856efb5a448bb6e
      size: 35060292
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: f60093c2d17d15a96678c2a9c129662d
      size: 52226
    - path: data/processed/train.csv
      hash: md5
      md5: 58aa85342c90d91a053f5fb74ce9ea2c
      size: 209033
  choosing_cluster:
    cmd: python src/parameter_tuning.py
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: 58aa85342c90d91a053f5fb74ce9ea2c
      size: 209033
    - path: params.yaml
      hash: md5
      md5: 210fe53ec0310b3c8d2018218f2f3e3e
      size: 295
      isexec: true
    params:
      params.yaml:
        cluster_select:
          init: k-means++
          max_iter: 100
          random_state: 0
          n_init: 10
          k:
          - 2
          - 15
    outs:
    - path: hyperparameter_config.json
      hash: md5
      md5: a630d46c6c5d5ed049d680f0ab2d84e8
      size: 17
  training:
    cmd: python src/train.py
    deps:
    - path: data/processed/train.csv
      hash: md5
      md5: 58aa85342c90d91a053f5fb74ce9ea2c
      size: 209033
    - path: hyperparameter_config.json
      hash: md5
      md5: a630d46c6c5d5ed049d680f0ab2d84e8
      size: 17
    - path: params.yaml
      hash: md5
      md5: 210fe53ec0310b3c8d2018218f2f3e3e
      size: 295
      isexec: true
    params:
      params.yaml:
        training_params:
          init: k-means++
          n_init: 10
          max_iter: 100
          random_state: 0
          training_path: data/processed/train.csv
    outs:
    - path: reports/metrics.json
      hash: md5
      md5: ad5ee7306273209fbd1b136c183f5779
      size: 112
  evaluate:
    cmd: python src/evaluate.py
